<!DOCTYPE html>
<html data-bs-theme="auto">
<head>
    <meta charset="utf-8"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/jedison@latest/dist/umd/jedison.umd.js"></script>
</head>
<body>
<div class="container">
    <div class="mt-5" id="jedison-container"></div>
</div>

<script>
  const jedison = new Jedison.Create({
    container: document.querySelector('#jedison-container'),
    theme: new Jedison.ThemeBootstrap5(),
    schema: {
      "title": "Templates",
      "type": "array",
      "x-format": "nav-vertical",
      "minItems": 1,
      "default": [
        {
          "name": "Tech Corp",
          "departments": [
            {
              "name": "Engineering"
            }
          ]
        }
      ],
      "x-titleTemplate": "{{ value.name }}",
      "items": {
        "title": "Company {{ i1 }} - {{ value.name }}",
        "description": "Company {{ i1 }} has name: {{ value.name }}",
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "title": "Company Name",
            "default": "New Company"
          },
          "departments": {
            "type": "array",
            "title": "Departments",
            "x-format": "nav-vertical",
            "minItems": 1,
            "default": [
              {
                "name": "General"
              }
            ],
            "x-titleTemplate": "{{ parent.parent.value.name }} - {{ value.name }}",
            "items": {
              "title": "{{ parent.parent.value.name }} - {{ value.name }}",
              "type": "object",
              "properties": {
                "name": {
                  "type": "string",
                  "title": "Department Name",
                  "default": "New Department"
                }
              }
            }
          }
        }
      }
    }
  })
</script>
</body>
</html>