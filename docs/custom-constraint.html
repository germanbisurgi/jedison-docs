<!DOCTYPE html><html lang="en" data-bs-theme="dark"><head>
    <meta charset="utf-8">
    <link rel="icon" type="image/x-icon" href="/jedison-docs/assets/vue-logo-B5-umZ-1.png">
    <title>Jedison - Custom Constraints</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
  <script type="module" crossorigin="" src="/jedison-docs/assets/app-CXg1Mw8D.js"></script>
  <link rel="stylesheet" crossorigin="" href="/jedison-docs/assets/app-tYyYYpL3.css">
<meta name="description" content="Extend Jedison validation with custom constraints and warning-level validations"></head>
<body>
<div id="app" data-server-rendered="true"><div class="app-container safe-area-top safe-area-bottom"><div id="offcanvasNavbar" class="offcanvas offcanvas-start d-xl-none" tabindex="-1" aria-labelledby="navigation"><div class="offcanvas-body"><nav class="pages-nav"><div class="d-flex justify-content-between align-items-center mb-3"><h5 class="mb-0"> Jedison </h5><a href="https://github.com/germanbisurgi/jedison" target="_blank" class="text-decoration-none" title="GitHub Repository"><i class="bi bi-github fs-5"></i></a></div><!--[--><div class="nav-group"><h6 class="nav-group-title text-muted text-uppercase small">Getting Started</h6><ul class="nav flex-column"><!--[--><li class="nav-item"><a href="/jedison-docs/" class="nav-link">Introduction</a></li><li class="nav-item"><a href="/jedison-docs/install" class="nav-link">Install</a></li><li class="nav-item"><a href="/jedison-docs/as-editor" class="nav-link">As Editor</a></li><li class="nav-item"><a href="/jedison-docs/as-validator" class="nav-link">As Validator</a></li><li class="nav-item"><a href="/jedison-docs/methods" class="nav-link">Methods</a></li><li class="nav-item"><a href="/jedison-docs/events" class="nav-link">Events</a></li><li class="nav-item"><a href="/jedison-docs/playground" class="nav-link">Playground</a></li><!--]--></ul><hr></div><div class="nav-group"><h6 class="nav-group-title text-muted text-uppercase small">Features</h6><ul class="nav flex-column"><!--[--><li class="nav-item"><a href="/jedison-docs/themes" class="nav-link">Themes</a></li><li class="nav-item"><a href="/jedison-docs/icons" class="nav-link">Icons</a></li><li class="nav-item"><a href="/jedison-docs/language-and-translations" class="nav-link">Language and Translations</a></li><li class="nav-item"><a href="/jedison-docs/ref-parser" class="nav-link">RefParser</a></li><li class="nav-item"><a href="/jedison-docs/markdown-annotations" class="nav-link">Markdown Annotations</a></li><li class="nav-item"><a href="/jedison-docs/options" class="nav-link">Options</a></li><li class="nav-item"><a href="/jedison-docs/schema-options" class="nav-link">Schema Options</a></li><!--]--></ul><hr></div><div class="nav-group"><h6 class="nav-group-title text-muted text-uppercase small">Editors</h6><ul class="nav flex-column"><!--[--><li class="nav-item"><a href="/jedison-docs/array-editors" class="nav-link">Array Editors</a></li><li class="nav-item"><a href="/jedison-docs/boolean-editors" class="nav-link">Boolean Editors</a></li><li class="nav-item"><a href="/jedison-docs/numbers-editors" class="nav-link">Numbers Editors</a></li><li class="nav-item"><a href="/jedison-docs/object-editors" class="nav-link">Object Editors</a></li><li class="nav-item"><a href="/jedison-docs/string-editors" class="nav-link">String Editors</a></li><li class="nav-item"><a href="/jedison-docs/null-editors" class="nav-link">Null Editors</a></li><!--]--></ul><hr></div><div class="nav-group"><h6 class="nav-group-title text-muted text-uppercase small">Advanced</h6><ul class="nav flex-column"><!--[--><li class="nav-item"><a aria-current="page" href="/jedison-docs/custom-constraint" class="text-dark bg-primary router-link-exact-active nav-link">Custom constraint</a></li><!--]--></ul><hr></div><!--]--></nav></div></div><div class="vh-100 overflow-y-auto"><div class="d-flex"><aside class="aside vh-100 overflow-y-auto d-none d-xl-block"><nav class="pages-nav"><div class="d-flex justify-content-between align-items-center mb-3"><h5 class="mb-0"> Jedison </h5><a href="https://github.com/germanbisurgi/jedison" target="_blank" class="text-decoration-none" title="GitHub Repository"><i class="bi bi-github fs-5"></i></a></div><!--[--><div class="nav-group"><h6 class="nav-group-title text-muted text-uppercase small">Getting Started</h6><ul class="nav flex-column"><!--[--><li class="nav-item"><a href="/jedison-docs/" class="nav-link">Introduction</a></li><li class="nav-item"><a href="/jedison-docs/install" class="nav-link">Install</a></li><li class="nav-item"><a href="/jedison-docs/as-editor" class="nav-link">As Editor</a></li><li class="nav-item"><a href="/jedison-docs/as-validator" class="nav-link">As Validator</a></li><li class="nav-item"><a href="/jedison-docs/methods" class="nav-link">Methods</a></li><li class="nav-item"><a href="/jedison-docs/events" class="nav-link">Events</a></li><li class="nav-item"><a href="/jedison-docs/playground" class="nav-link">Playground</a></li><!--]--></ul><hr></div><div class="nav-group"><h6 class="nav-group-title text-muted text-uppercase small">Features</h6><ul class="nav flex-column"><!--[--><li class="nav-item"><a href="/jedison-docs/themes" class="nav-link">Themes</a></li><li class="nav-item"><a href="/jedison-docs/icons" class="nav-link">Icons</a></li><li class="nav-item"><a href="/jedison-docs/language-and-translations" class="nav-link">Language and Translations</a></li><li class="nav-item"><a href="/jedison-docs/ref-parser" class="nav-link">RefParser</a></li><li class="nav-item"><a href="/jedison-docs/markdown-annotations" class="nav-link">Markdown Annotations</a></li><li class="nav-item"><a href="/jedison-docs/options" class="nav-link">Options</a></li><li class="nav-item"><a href="/jedison-docs/schema-options" class="nav-link">Schema Options</a></li><!--]--></ul><hr></div><div class="nav-group"><h6 class="nav-group-title text-muted text-uppercase small">Editors</h6><ul class="nav flex-column"><!--[--><li class="nav-item"><a href="/jedison-docs/array-editors" class="nav-link">Array Editors</a></li><li class="nav-item"><a href="/jedison-docs/boolean-editors" class="nav-link">Boolean Editors</a></li><li class="nav-item"><a href="/jedison-docs/numbers-editors" class="nav-link">Numbers Editors</a></li><li class="nav-item"><a href="/jedison-docs/object-editors" class="nav-link">Object Editors</a></li><li class="nav-item"><a href="/jedison-docs/string-editors" class="nav-link">String Editors</a></li><li class="nav-item"><a href="/jedison-docs/null-editors" class="nav-link">Null Editors</a></li><!--]--></ul><hr></div><div class="nav-group"><h6 class="nav-group-title text-muted text-uppercase small">Advanced</h6><ul class="nav flex-column"><!--[--><li class="nav-item"><a aria-current="page" href="/jedison-docs/custom-constraint" class="text-dark bg-primary router-link-exact-active nav-link">Custom constraint</a></li><!--]--></ul><hr></div><!--]--></nav></aside><div class="wrapper border-start border-end"><div class="navbar app-navbar"><div class="container-fluid"><div></div><button class="navbar-toggler d-xl-none" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasNavbar" aria-controls="offcanvasNavbar" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button></div></div><div class="app-content"><header><h1>Custom Constraints</h1></header><section><article><h2>Adding Custom Constraints</h2><p> Jedison allows you to extend validation beyond standard JSON Schema rules by adding custom constraints. These are defined in the <code>constraints</code> option when initializing Jedison. </p><h3 class="mt-3"> How Custom Constraints Work </h3><p> Custom constraints are validation functions that: </p><ul><li>Check for specific schema extensions (typically using <code>x-</code> prefixed properties)</li><li>Return an array of validation errors/warnings</li><li>Have access to the current validation context (validator, value, schema, key, path, translator)</li><li>Can be configured as either errors or warnings</li></ul><h3 class="mt-3"> Implementation Example </h3><p> The example shows a custom constraint checking <code>x-my-constraint</code>: </p><pre><code class="language-javascript">constraints: {
  'x-my-constraint': (context) =&gt; {
    const errors = []
    const schemaMyConstraint = context.schema['x-my-constraint']

    if (schemaMyConstraint) {
      const invalid = context.value !== schemaMyConstraint

      if (invalid) {
        errors.push({
          type: 'warning',
          path: context.path,
          constraint: 'x-my-constraint',
          messages: [
            `Value should be equal to "${schemaMyConstraint}".`
          ]
        })
      }
    }

    return errors
  }
}
</code></pre><h3 class="mt-3"> Key Components </h3><ul><li><strong><code>context</code></strong> object containing: <ul><li><code>value</code> - The current field value</li><li><code>path</code> - JSON path to the field</li><li><code>schema</code> - The schema for this field</li><li><code>translator</code> - The Translator instance</li></ul></li><li><strong>Error objects</strong> with: <ul><li><code>type</code> - 'error' or 'warning' severity level</li><li><code>path</code> - Location of the validation issue</li><li><code>constraint</code> - Name of the constraint</li><li><code>messages</code> - User-friendly error messages</li></ul></li></ul><h2 class="mt-4"> Error Handling and Validation States </h2><p> Jedison provides flexible error handling through the <code>getErrors()</code> method: </p><ul><li><strong><code>jedison.getErrors()</code></strong> - Returns only error-level validations (default) </li><li><strong><code>jedison.getErrors(['error', 'warning'])</code></strong> - Returns both errors and warnings </li></ul><h3 class="mt-3"> Benefits of Warning-Level Constraints </h3><p> Using warning-level constraints provides several advantages: </p><ul><li><strong>Soft validation</strong> - Users can proceed with warnings while being informed of potential issues</li><li><strong>Progressive validation</strong> - Start with warnings that can be upgraded to errors later</li><li><strong>Better UX</strong> - Different visual treatment for errors (blocking) vs warnings (advisory)</li><li><strong>Flexible workflows</strong> - Allow submission with warnings while maintaining data quality standards</li></ul><p class="mt-3"> In the live example below, the form displays <strong>warnings (yellow)</strong> and <strong>errors (red)</strong> independently. By default, <code>getErrors()</code> only returns errors, while warnings are still shown in the UI. To include warnings in the validation result, pass an array of filters: <code>['error', 'warning']</code>. Final validation behavior is left to the user's implementation. </p><div class="live-example mb-3"><div><!----><div><div class="code-mirror-container mb-3"></div></div><div style="height:400px;"><iframe srcdoc="" sandbox="allow-scripts allow-same-origin allow-forms allow-modals allow-popups" frameborder="0" width="100%" height="100%"></iframe></div></div><!----></div></article></section></div><div class="d-flex justify-content-between mt-4 mb-4 app-prev-next"><button class="btn btn-outline-primary"><span>« Null Editors</span></button><!----></div></div></div></div></div></div>


</body></html>